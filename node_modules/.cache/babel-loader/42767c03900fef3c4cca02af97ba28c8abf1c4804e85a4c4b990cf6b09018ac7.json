{"ast":null,"code":"var _jsxFileName = \"C:\\\\Practicas\\\\taskmanage\\\\frontend\\\\src\\\\components\\\\GroupCard\\\\GroupCard.jsx\";\n// src/components/GroupCard/GroupCard.jsx\nimport React from \"react\";\nimport { Card, Button, Avatar, Tooltip } from \"antd\";\nimport { TeamOutlined, PlusOutlined, EyeOutlined, EditOutlined } from \"@ant-design/icons\";\nimport AuthService from \"../../services/authService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GroupCard = ({\n  group,\n  onCreateGroupTask,\n  onViewGroupTasks,\n  onEditGroup\n}) => {\n  // Verificación exhaustiva: si group no es un objeto válido, no renderizamos nada\n  if (!group || typeof group !== 'object') {\n    return null;\n  }\n  const currentUser = AuthService.getCurrentUser();\n\n  // Verificación segura para el owner\n  const isOwner = group && group.ownerId && currentUser && currentUser.userId && String(group.ownerId) === String(currentUser.userId);\n\n  // Preparar acciones para el componente Card de manera segura\n  const cardActions = [];\n\n  // Acción para ver tareas (siempre disponible si hay un grupo válido con ID)\n  if (group && group._id) {\n    cardActions.push(/*#__PURE__*/_jsxDEV(Button, {\n      type: \"text\",\n      icon: /*#__PURE__*/_jsxDEV(EyeOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 15\n      }, this),\n      onClick: () => onViewGroupTasks(group._id),\n      children: \"Ver Tareas\"\n    }, \"view\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this));\n  }\n\n  // Acciones disponibles solo para el dueño del grupo\n  if (isOwner && typeof onCreateGroupTask === 'function') {\n    cardActions.push(/*#__PURE__*/_jsxDEV(Button, {\n      type: \"text\",\n      icon: /*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 15\n      }, this),\n      onClick: () => onCreateGroupTask(group._id),\n      children: \"Nueva Tarea\"\n    }, \"add\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this));\n  }\n  if (isOwner && typeof onEditGroup === 'function') {\n    cardActions.push(/*#__PURE__*/_jsxDEV(Button, {\n      type: \"text\",\n      icon: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }, this),\n      onClick: () => onEditGroup(group),\n      children: \"Editar\"\n    }, \"edit\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this));\n  }\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TeamOutlined, {\n        style: {\n          marginRight: 8\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), group.name || 'Grupo sin nombre']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this),\n    style: {\n      width: 300,\n      minWidth: 300,\n      marginRight: 16,\n      marginBottom: 16,\n      borderTop: '4px solid #1890ff',\n      boxShadow: '0 2px 8px rgba(0,0,0,0.15)'\n    },\n    actions: cardActions.length > 0 ? cardActions : undefined,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Miembros:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 12\n        }, this), \" \", Array.isArray(group.user) ? group.user.length : 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), Array.isArray(group.user) && group.user.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexWrap: 'wrap',\n          gap: '8px',\n          marginTop: 8\n        },\n        children: [group.user.slice(0, 5).map((user, index) => {\n          var _user$username;\n          if (!user) return null; // Evitar renderizar usuarios nulos/undefined\n\n          const username = typeof user === 'string' ? user : user.username || 'Usuario';\n          return /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: username,\n            children: /*#__PURE__*/_jsxDEV(Avatar, {\n              size: \"small\",\n              children: typeof user === 'string' ? user.charAt(0).toUpperCase() : ((_user$username = user.username) === null || _user$username === void 0 ? void 0 : _user$username.charAt(0).toUpperCase()) || 'U'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 19\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 17\n          }, this);\n        }), group.user.length > 5 && /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: `${group.user.length - 5} más`,\n          children: /*#__PURE__*/_jsxDEV(Avatar, {\n            size: \"small\",\n            children: [\"+\", group.user.length - 5]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_c = GroupCard;\nexport default GroupCard;\nvar _c;\n$RefreshReg$(_c, \"GroupCard\");","map":{"version":3,"names":["React","Card","Button","Avatar","Tooltip","TeamOutlined","PlusOutlined","EyeOutlined","EditOutlined","AuthService","jsxDEV","_jsxDEV","GroupCard","group","onCreateGroupTask","onViewGroupTasks","onEditGroup","currentUser","getCurrentUser","isOwner","ownerId","userId","String","cardActions","_id","push","type","icon","fileName","_jsxFileName","lineNumber","columnNumber","onClick","children","title","style","display","alignItems","marginRight","name","width","minWidth","marginBottom","borderTop","boxShadow","actions","length","undefined","Array","isArray","user","flexWrap","gap","marginTop","slice","map","index","_user$username","username","size","charAt","toUpperCase","_c","$RefreshReg$"],"sources":["C:/Practicas/taskmanage/frontend/src/components/GroupCard/GroupCard.jsx"],"sourcesContent":["// src/components/GroupCard/GroupCard.jsx\r\nimport React from \"react\";\r\nimport { Card, Button, Avatar, Tooltip } from \"antd\";\r\nimport { TeamOutlined, PlusOutlined, EyeOutlined, EditOutlined } from \"@ant-design/icons\";\r\nimport AuthService from \"../../services/authService\";\r\n\r\nconst GroupCard = ({ group, onCreateGroupTask, onViewGroupTasks, onEditGroup }) => {\r\n  // Verificación exhaustiva: si group no es un objeto válido, no renderizamos nada\r\n  if (!group || typeof group !== 'object') {\r\n    return null;\r\n  }\r\n\r\n  const currentUser = AuthService.getCurrentUser();\r\n  \r\n  // Verificación segura para el owner\r\n  const isOwner = group && \r\n                 group.ownerId && \r\n                 currentUser && \r\n                 currentUser.userId && \r\n                 String(group.ownerId) === String(currentUser.userId);\r\n\r\n  // Preparar acciones para el componente Card de manera segura\r\n  const cardActions = [];\r\n  \r\n  // Acción para ver tareas (siempre disponible si hay un grupo válido con ID)\r\n  if (group && group._id) {\r\n    cardActions.push(\r\n      <Button \r\n        key=\"view\"\r\n        type=\"text\" \r\n        icon={<EyeOutlined />} \r\n        onClick={() => onViewGroupTasks(group._id)}\r\n      >\r\n        Ver Tareas\r\n      </Button>\r\n    );\r\n  }\r\n  \r\n  // Acciones disponibles solo para el dueño del grupo\r\n  if (isOwner && typeof onCreateGroupTask === 'function') {\r\n    cardActions.push(\r\n      <Button \r\n        key=\"add\"\r\n        type=\"text\" \r\n        icon={<PlusOutlined />} \r\n        onClick={() => onCreateGroupTask(group._id)}\r\n      >\r\n        Nueva Tarea\r\n      </Button>\r\n    );\r\n  }\r\n  \r\n  if (isOwner && typeof onEditGroup === 'function') {\r\n    cardActions.push(\r\n      <Button \r\n        key=\"edit\"\r\n        type=\"text\" \r\n        icon={<EditOutlined />} \r\n        onClick={() => onEditGroup(group)}\r\n      >\r\n        Editar\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card \r\n      title={\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>\r\n          <TeamOutlined style={{ marginRight: 8 }} />\r\n          {group.name || 'Grupo sin nombre'}\r\n        </div>\r\n      } \r\n      style={{ \r\n        width: 300,\r\n        minWidth: 300,\r\n        marginRight: 16,\r\n        marginBottom: 16,\r\n        borderTop: '4px solid #1890ff',\r\n        boxShadow: '0 2px 8px rgba(0,0,0,0.15)'\r\n      }}\r\n      actions={cardActions.length > 0 ? cardActions : undefined}\r\n    >\r\n      <div style={{ marginBottom: 16 }}>\r\n        <p><strong>Miembros:</strong> {Array.isArray(group.user) ? group.user.length : 0}</p>\r\n        \r\n        {Array.isArray(group.user) && group.user.length > 0 && (\r\n          <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', marginTop: 8 }}>\r\n            {group.user.slice(0, 5).map((user, index) => {\r\n              if (!user) return null; // Evitar renderizar usuarios nulos/undefined\r\n              \r\n              const username = typeof user === 'string' \r\n                ? user \r\n                : user.username || 'Usuario';\r\n                \r\n              return (\r\n                <Tooltip title={username} key={index}>\r\n                  <Avatar size=\"small\">\r\n                    {typeof user === 'string' \r\n                      ? user.charAt(0).toUpperCase() \r\n                      : (user.username?.charAt(0).toUpperCase() || 'U')}\r\n                  </Avatar>\r\n                </Tooltip>\r\n              );\r\n            })}\r\n            {group.user.length > 5 && (\r\n              <Tooltip title={`${group.user.length - 5} más`}>\r\n                <Avatar size=\"small\">+{group.user.length - 5}</Avatar>\r\n              </Tooltip>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default GroupCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}