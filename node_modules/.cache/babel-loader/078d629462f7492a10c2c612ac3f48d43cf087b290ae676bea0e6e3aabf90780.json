{"ast":null,"code":"var _jsxFileName = \"C:\\\\Practicas\\\\taskmanage\\\\frontend\\\\src\\\\components\\\\TaskCard\\\\TaskCard.jsx\";\n// src/components/TaskCard/TaskCard.jsx\nimport React from \"react\";\nimport { Card, Tag, Typography, Space, Button, Select, message, Tooltip, Avatar } from \"antd\";\nimport { EditOutlined, DeleteOutlined, ExclamationCircleOutlined, TeamOutlined, ClockCircleOutlined } from \"@ant-design/icons\";\nimport moment from \"moment\";\nimport TaskService from \"../../services/taskService\";\nimport AuthService from \"../../services/authService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Text,\n  Paragraph\n} = Typography;\nconst {\n  Option\n} = Select;\nconst statusColors = {\n  \"In Progress\": {\n    color: \"#1890ff\",\n    bgColor: \"#e6f7ff\"\n  },\n  \"Done\": {\n    color: \"#52c41a\",\n    bgColor: \"#f6ffed\"\n  },\n  \"Paused\": {\n    color: \"#faad14\",\n    bgColor: \"#fffbe6\"\n  },\n  \"Review\": {\n    color: \"#722ed1\",\n    bgColor: \"#f9f0ff\"\n  }\n};\nconst statusLabels = {\n  \"In Progress\": \"En Progreso\",\n  \"Done\": \"Hecho\",\n  \"Paused\": \"Pausado\",\n  \"Review\": \"Revisión\"\n};\nconst TaskCard = ({\n  task,\n  groups = [],\n  onTaskUpdated,\n  showEditModal\n}) => {\n  var _statusColors$task$st;\n  // Validar que task sea un objeto válido\n  if (!task || typeof task !== 'object') {\n    return null;\n  }\n  const currentUser = AuthService.getCurrentUser();\n\n  // Usando validación exhaustiva para evitar errores\n  const isOwner = task.userId && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.userId) && String(task.userId) === String(currentUser.userId);\n  const isAssigned = task.assignedTo && Array.isArray(task.assignedTo) && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.userId) && task.assignedTo.some(user => String(typeof user === 'string' ? user : (user === null || user === void 0 ? void 0 : user._id) || '') === String(currentUser.userId));\n  const deadlineDate = task.dead_line ? moment(task.dead_line) : null;\n  const isOverdue = deadlineDate && deadlineDate.isBefore(moment()) && task.status !== \"Done\";\n\n  // Calcular días restantes o días atrasados\n  const calculateDeadlineStatus = () => {\n    if (!deadlineDate) return null;\n    const today = moment();\n    if (task.status === 'Done') {\n      return {\n        text: \"Completada\",\n        color: \"green\"\n      };\n    }\n    const daysRemaining = deadlineDate.diff(today, 'days');\n    if (daysRemaining < 0) {\n      return {\n        text: `Atrasada por ${Math.abs(daysRemaining)} día${Math.abs(daysRemaining) !== 1 ? 's' : ''}`,\n        color: \"red\"\n      };\n    } else if (daysRemaining === 0) {\n      return {\n        text: \"Vence hoy\",\n        color: \"orange\"\n      };\n    } else if (daysRemaining <= 2) {\n      return {\n        text: `Vence en ${daysRemaining} día${daysRemaining !== 1 ? 's' : ''}`,\n        color: \"orange\"\n      };\n    } else {\n      return {\n        text: `Vence en ${daysRemaining} días`,\n        color: \"green\"\n      };\n    }\n  };\n  const deadlineStatus = calculateDeadlineStatus();\n  const handleStatusChange = async newStatus => {\n    try {\n      if (!task._id) {\n        message.error(\"ID de tarea no válido\");\n        return;\n      }\n      await TaskService.updateTaskStatus(task._id, newStatus);\n      message.success(\"Estado de la tarea actualizado correctamente\");\n      if (onTaskUpdated && typeof onTaskUpdated === 'function') {\n        onTaskUpdated();\n      }\n    } catch (error) {\n      console.error(\"Error updating task status:\", error);\n      message.error(\"Error al actualizar el estado de la tarea\");\n    }\n  };\n  const handleDeleteTask = async () => {\n    try {\n      if (!task._id) {\n        message.error(\"ID de tarea no válido\");\n        return;\n      }\n      await TaskService.deleteTask(task._id);\n      message.success(\"Tarea eliminada correctamente\");\n      if (onTaskUpdated && typeof onTaskUpdated === 'function') {\n        onTaskUpdated();\n      }\n    } catch (error) {\n      console.error(\"Error deleting task:\", error);\n      message.error(\"Error al eliminar la tarea\");\n    }\n  };\n\n  // Find group name if task belongs to a group - Con validación segura\n  const getGroupName = () => {\n    if (!task.groupId || !Array.isArray(groups) || groups.length === 0) {\n      return null;\n    }\n    const group = groups.find(g => g && g._id === task.groupId);\n    return group ? group.name : \"Grupo no encontrado\";\n  };\n  const groupName = getGroupName();\n  return /*#__PURE__*/_jsxDEV(Card, {\n    size: \"small\",\n    style: {\n      marginBottom: 16,\n      borderLeft: `5px solid ${((_statusColors$task$st = statusColors[task.status]) === null || _statusColors$task$st === void 0 ? void 0 : _statusColors$task$st.color) || '#ddd'}`,\n      backgroundColor: 'white'\n    },\n    actions: [/*#__PURE__*/_jsxDEV(Select, {\n      value: task.status,\n      style: {\n        width: 120\n      },\n      onChange: handleStatusChange,\n      disabled: !isOwner && !isAssigned,\n      children: [/*#__PURE__*/_jsxDEV(Option, {\n        value: \"In Progress\",\n        children: \"En Progreso\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Option, {\n        value: \"Done\",\n        children: \"Hecho\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Option, {\n        value: \"Paused\",\n        children: \"Pausado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Option, {\n        value: \"Review\",\n        children: \"Revisi\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      icon: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this),\n      type: \"text\",\n      onClick: () => showEditModal && typeof showEditModal === 'function' ? showEditModal(task) : null,\n      disabled: !isOwner && !isAssigned\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this),\n      type: \"text\",\n      danger: true,\n      onClick: handleDeleteTask,\n      disabled: !isOwner\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }, this)],\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(Space, {\n        align: \"center\",\n        style: {\n          marginBottom: 8,\n          width: '100%',\n          justifyContent: 'space-between'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          strong: true,\n          children: task.name_task || 'Sin nombre'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), isOverdue && /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\xA1Vencida!\",\n          children: /*#__PURE__*/_jsxDEV(ExclamationCircleOutlined, {\n            style: {\n              color: 'red'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paragraph, {\n        ellipsis: {\n          rows: 2\n        },\n        style: {\n          fontSize: '0.9em',\n          marginBottom: 8\n        },\n        children: task.description || 'Sin descripción'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Space, {\n        direction: \"vertical\",\n        size: 0,\n        style: {\n          width: '100%'\n        },\n        children: [deadlineDate && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: 8,\n            background: isOverdue ? '#fff2f0' : '#f6ffed',\n            padding: '4px 8px',\n            borderRadius: '4px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(ClockCircleOutlined, {\n            style: {\n              marginRight: 8,\n              color: (deadlineStatus === null || deadlineStatus === void 0 ? void 0 : deadlineStatus.color) || 'inherit'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            type: isOverdue ? \"danger\" : \"secondary\",\n            style: {\n              fontSize: '0.9em'\n            },\n            children: (deadlineStatus === null || deadlineStatus === void 0 ? void 0 : deadlineStatus.text) || deadlineDate.format('DD/MM/YYYY')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), task.category && /*#__PURE__*/_jsxDEV(Tag, {\n          style: {\n            marginTop: 4\n          },\n          children: task.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this), groupName && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 4\n          },\n          children: /*#__PURE__*/_jsxDEV(Tag, {\n            icon: /*#__PURE__*/_jsxDEV(TeamOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 26\n            }, this),\n            color: \"blue\",\n            children: groupName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this), task.assignedTo && Array.isArray(task.assignedTo) && task.assignedTo.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            type: \"secondary\",\n            style: {\n              fontSize: '0.8em',\n              display: 'block'\n            },\n            children: \"Asignado a:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Avatar.Group, {\n            maxCount: 3,\n            size: \"small\",\n            style: {\n              marginTop: 4\n            },\n            children: task.assignedTo.map((user, index) => {\n              var _user$username;\n              if (!user) return null; // Skip invalid users\n\n              const username = typeof user === 'string' ? user : user.username || user.email || 'Usuario';\n              return /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: username,\n                children: /*#__PURE__*/_jsxDEV(Avatar, {\n                  size: \"small\",\n                  children: typeof user === 'string' ? (user.charAt(0) || 'U').toUpperCase() : (((_user$username = user.username) === null || _user$username === void 0 ? void 0 : _user$username.charAt(0)) || 'U').toUpperCase()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 23\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n};\n_c = TaskCard;\nexport default TaskCard;\nvar _c;\n$RefreshReg$(_c, \"TaskCard\");","map":{"version":3,"names":["React","Card","Tag","Typography","Space","Button","Select","message","Tooltip","Avatar","EditOutlined","DeleteOutlined","ExclamationCircleOutlined","TeamOutlined","ClockCircleOutlined","moment","TaskService","AuthService","jsxDEV","_jsxDEV","Text","Paragraph","Option","statusColors","color","bgColor","statusLabels","TaskCard","task","groups","onTaskUpdated","showEditModal","_statusColors$task$st","currentUser","getCurrentUser","isOwner","userId","String","isAssigned","assignedTo","Array","isArray","some","user","_id","deadlineDate","dead_line","isOverdue","isBefore","status","calculateDeadlineStatus","today","text","daysRemaining","diff","Math","abs","deadlineStatus","handleStatusChange","newStatus","error","updateTaskStatus","success","console","handleDeleteTask","deleteTask","getGroupName","groupId","length","group","find","g","name","groupName","size","style","marginBottom","borderLeft","backgroundColor","actions","value","width","onChange","disabled","children","fileName","_jsxFileName","lineNumber","columnNumber","icon","type","onClick","danger","align","justifyContent","strong","name_task","title","ellipsis","rows","fontSize","description","direction","display","alignItems","background","padding","borderRadius","marginRight","format","category","marginTop","Group","maxCount","map","index","_user$username","username","email","charAt","toUpperCase","_c","$RefreshReg$"],"sources":["C:/Practicas/taskmanage/frontend/src/components/TaskCard/TaskCard.jsx"],"sourcesContent":["// src/components/TaskCard/TaskCard.jsx\r\nimport React from \"react\";\r\nimport { Card, Tag, Typography, Space, Button, Select, message, Tooltip, Avatar } from \"antd\";\r\nimport { EditOutlined, DeleteOutlined, ExclamationCircleOutlined, TeamOutlined, ClockCircleOutlined } from \"@ant-design/icons\";\r\nimport moment from \"moment\";\r\nimport TaskService from \"../../services/taskService\";\r\nimport AuthService from \"../../services/authService\";\r\n\r\nconst { Text, Paragraph } = Typography;\r\nconst { Option } = Select;\r\n\r\nconst statusColors = {\r\n  \"In Progress\": { color: \"#1890ff\", bgColor: \"#e6f7ff\" },\r\n  \"Done\": { color: \"#52c41a\", bgColor: \"#f6ffed\" },\r\n  \"Paused\": { color: \"#faad14\", bgColor: \"#fffbe6\" },\r\n  \"Review\": { color: \"#722ed1\", bgColor: \"#f9f0ff\" }\r\n};\r\n\r\nconst statusLabels = {\r\n  \"In Progress\": \"En Progreso\",\r\n  \"Done\": \"Hecho\",\r\n  \"Paused\": \"Pausado\",\r\n  \"Review\": \"Revisión\"\r\n};\r\n\r\nconst TaskCard = ({ task, groups = [], onTaskUpdated, showEditModal }) => {\r\n  // Validar que task sea un objeto válido\r\n  if (!task || typeof task !== 'object') {\r\n    return null;\r\n  }\r\n\r\n  const currentUser = AuthService.getCurrentUser();\r\n  \r\n  // Usando validación exhaustiva para evitar errores\r\n  const isOwner = task.userId && currentUser?.userId && \r\n                  String(task.userId) === String(currentUser.userId);\r\n                  \r\n  const isAssigned = task.assignedTo && Array.isArray(task.assignedTo) && \r\n                    currentUser?.userId &&\r\n                    task.assignedTo.some(user => \r\n                      String(typeof user === 'string' ? user : (user?._id || '')) === String(currentUser.userId)\r\n                    );\r\n\r\n  const deadlineDate = task.dead_line ? moment(task.dead_line) : null;\r\n  const isOverdue = deadlineDate && \r\n                   deadlineDate.isBefore(moment()) && \r\n                   task.status !== \"Done\";\r\n\r\n  // Calcular días restantes o días atrasados\r\n  const calculateDeadlineStatus = () => {\r\n    if (!deadlineDate) return null;\r\n    \r\n    const today = moment();\r\n    if (task.status === 'Done') {\r\n      return { text: \"Completada\", color: \"green\" };\r\n    }\r\n    \r\n    const daysRemaining = deadlineDate.diff(today, 'days');\r\n    \r\n    if (daysRemaining < 0) {\r\n      return { \r\n        text: `Atrasada por ${Math.abs(daysRemaining)} día${Math.abs(daysRemaining) !== 1 ? 's' : ''}`, \r\n        color: \"red\" \r\n      };\r\n    } else if (daysRemaining === 0) {\r\n      return { text: \"Vence hoy\", color: \"orange\" };\r\n    } else if (daysRemaining <= 2) {\r\n      return { \r\n        text: `Vence en ${daysRemaining} día${daysRemaining !== 1 ? 's' : ''}`, \r\n        color: \"orange\" \r\n      };\r\n    } else {\r\n      return { \r\n        text: `Vence en ${daysRemaining} días`,\r\n        color: \"green\"\r\n      };\r\n    }\r\n  };\r\n\r\n  const deadlineStatus = calculateDeadlineStatus();\r\n\r\n  const handleStatusChange = async (newStatus) => {\r\n    try {\r\n      if (!task._id) {\r\n        message.error(\"ID de tarea no válido\");\r\n        return;\r\n      }\r\n      \r\n      await TaskService.updateTaskStatus(task._id, newStatus);\r\n      message.success(\"Estado de la tarea actualizado correctamente\");\r\n      if (onTaskUpdated && typeof onTaskUpdated === 'function') {\r\n        onTaskUpdated();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error updating task status:\", error);\r\n      message.error(\"Error al actualizar el estado de la tarea\");\r\n    }\r\n  };\r\n\r\n  const handleDeleteTask = async () => {\r\n    try {\r\n      if (!task._id) {\r\n        message.error(\"ID de tarea no válido\");\r\n        return;\r\n      }\r\n      \r\n      await TaskService.deleteTask(task._id);\r\n      message.success(\"Tarea eliminada correctamente\");\r\n      if (onTaskUpdated && typeof onTaskUpdated === 'function') {\r\n        onTaskUpdated();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error deleting task:\", error);\r\n      message.error(\"Error al eliminar la tarea\");\r\n    }\r\n  };\r\n\r\n  // Find group name if task belongs to a group - Con validación segura\r\n  const getGroupName = () => {\r\n    if (!task.groupId || !Array.isArray(groups) || groups.length === 0) {\r\n      return null;\r\n    }\r\n    \r\n    const group = groups.find(g => g && g._id === task.groupId);\r\n    return group ? group.name : \"Grupo no encontrado\";\r\n  };\r\n\r\n  const groupName = getGroupName();\r\n\r\n  return (\r\n    <Card \r\n      size=\"small\"\r\n      style={{ \r\n        marginBottom: 16,\r\n        borderLeft: `5px solid ${statusColors[task.status]?.color || '#ddd'}`,\r\n        backgroundColor: 'white'\r\n      }}\r\n      actions={[\r\n        <Select\r\n          value={task.status}\r\n          style={{ width: 120 }}\r\n          onChange={handleStatusChange}\r\n          disabled={!isOwner && !isAssigned}\r\n        >\r\n          <Option value=\"In Progress\">En Progreso</Option>\r\n          <Option value=\"Done\">Hecho</Option>\r\n          <Option value=\"Paused\">Pausado</Option>\r\n          <Option value=\"Review\">Revisión</Option>\r\n        </Select>,\r\n        <Button \r\n          icon={<EditOutlined />} \r\n          type=\"text\" \r\n          onClick={() => showEditModal && typeof showEditModal === 'function' ? showEditModal(task) : null}\r\n          disabled={!isOwner && !isAssigned}\r\n        />,\r\n        <Button \r\n          icon={<DeleteOutlined />} \r\n          type=\"text\" \r\n          danger\r\n          onClick={handleDeleteTask}\r\n          disabled={!isOwner}\r\n        />\r\n      ]}\r\n    >\r\n      <div style={{ marginBottom: 8 }}>\r\n        <Space align=\"center\" style={{ marginBottom: 8, width: '100%', justifyContent: 'space-between' }}>\r\n          <Text strong>{task.name_task || 'Sin nombre'}</Text>\r\n          {isOverdue && (\r\n            <Tooltip title=\"¡Vencida!\">\r\n              <ExclamationCircleOutlined style={{ color: 'red' }} />\r\n            </Tooltip>\r\n          )}\r\n        </Space>\r\n        \r\n        <Paragraph ellipsis={{ rows: 2 }} style={{ fontSize: '0.9em', marginBottom: 8 }}>\r\n          {task.description || 'Sin descripción'}\r\n        </Paragraph>\r\n        \r\n        <Space direction=\"vertical\" size={0} style={{ width: '100%' }}>\r\n          {/* Destacar la fecha límite con un indicador visual */}\r\n          {deadlineDate && (\r\n            <div style={{ \r\n              display: 'flex', \r\n              alignItems: 'center', \r\n              marginBottom: 8, \r\n              background: isOverdue ? '#fff2f0' : '#f6ffed', \r\n              padding: '4px 8px',\r\n              borderRadius: '4px'\r\n            }}>\r\n              <ClockCircleOutlined style={{ \r\n                marginRight: 8, \r\n                color: deadlineStatus?.color || 'inherit' \r\n              }} />\r\n              <Text type={isOverdue ? \"danger\" : \"secondary\"} style={{ fontSize: '0.9em' }}>\r\n                {deadlineStatus?.text || deadlineDate.format('DD/MM/YYYY')}\r\n              </Text>\r\n            </div>\r\n          )}\r\n          \r\n          {task.category && (\r\n            <Tag style={{ marginTop: 4 }}>{task.category}</Tag>\r\n          )}\r\n          \r\n          {groupName && (\r\n            <div style={{ marginTop: 4 }}>\r\n              <Tag icon={<TeamOutlined />} color=\"blue\">{groupName}</Tag>\r\n            </div>\r\n          )}\r\n          \r\n          {task.assignedTo && Array.isArray(task.assignedTo) && task.assignedTo.length > 0 && (\r\n            <div style={{ marginTop: 8 }}>\r\n              <Text type=\"secondary\" style={{ fontSize: '0.8em', display: 'block' }}>\r\n                Asignado a:\r\n              </Text>\r\n              <Avatar.Group maxCount={3} size=\"small\" style={{ marginTop: 4 }}>\r\n                {task.assignedTo.map((user, index) => {\r\n                  if (!user) return null; // Skip invalid users\r\n                  \r\n                  const username = typeof user === 'string' \r\n                    ? user \r\n                    : user.username || user.email || 'Usuario';\r\n                  \r\n                  return (\r\n                    <Tooltip title={username} key={index}>\r\n                      <Avatar size=\"small\">\r\n                        {typeof user === 'string' \r\n                          ? (user.charAt(0) || 'U').toUpperCase() \r\n                          : (user.username?.charAt(0) || 'U').toUpperCase()}\r\n                      </Avatar>\r\n                    </Tooltip>\r\n                  );\r\n                })}\r\n              </Avatar.Group>\r\n            </div>\r\n          )}\r\n        </Space>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default TaskCard;"],"mappings":";AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,EAAEC,GAAG,EAAEC,UAAU,EAAEC,KAAK,EAAEC,MAAM,EAAEC,MAAM,EAAEC,OAAO,EAAEC,OAAO,EAAEC,MAAM,QAAQ,MAAM;AAC7F,SAASC,YAAY,EAAEC,cAAc,EAAEC,yBAAyB,EAAEC,YAAY,EAAEC,mBAAmB,QAAQ,mBAAmB;AAC9H,OAAOC,MAAM,MAAM,QAAQ;AAC3B,OAAOC,WAAW,MAAM,4BAA4B;AACpD,OAAOC,WAAW,MAAM,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAM;EAAEC,IAAI;EAAEC;AAAU,CAAC,GAAGlB,UAAU;AACtC,MAAM;EAAEmB;AAAO,CAAC,GAAGhB,MAAM;AAEzB,MAAMiB,YAAY,GAAG;EACnB,aAAa,EAAE;IAAEC,KAAK,EAAE,SAAS;IAAEC,OAAO,EAAE;EAAU,CAAC;EACvD,MAAM,EAAE;IAAED,KAAK,EAAE,SAAS;IAAEC,OAAO,EAAE;EAAU,CAAC;EAChD,QAAQ,EAAE;IAAED,KAAK,EAAE,SAAS;IAAEC,OAAO,EAAE;EAAU,CAAC;EAClD,QAAQ,EAAE;IAAED,KAAK,EAAE,SAAS;IAAEC,OAAO,EAAE;EAAU;AACnD,CAAC;AAED,MAAMC,YAAY,GAAG;EACnB,aAAa,EAAE,aAAa;EAC5B,MAAM,EAAE,OAAO;EACf,QAAQ,EAAE,SAAS;EACnB,QAAQ,EAAE;AACZ,CAAC;AAED,MAAMC,QAAQ,GAAGA,CAAC;EAAEC,IAAI;EAAEC,MAAM,GAAG,EAAE;EAAEC,aAAa;EAAEC;AAAc,CAAC,KAAK;EAAA,IAAAC,qBAAA;EACxE;EACA,IAAI,CAACJ,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;IACrC,OAAO,IAAI;EACb;EAEA,MAAMK,WAAW,GAAGhB,WAAW,CAACiB,cAAc,CAAC,CAAC;;EAEhD;EACA,MAAMC,OAAO,GAAGP,IAAI,CAACQ,MAAM,KAAIH,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEG,MAAM,KAClCC,MAAM,CAACT,IAAI,CAACQ,MAAM,CAAC,KAAKC,MAAM,CAACJ,WAAW,CAACG,MAAM,CAAC;EAElE,MAAME,UAAU,GAAGV,IAAI,CAACW,UAAU,IAAIC,KAAK,CAACC,OAAO,CAACb,IAAI,CAACW,UAAU,CAAC,KAClDN,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEG,MAAM,KACnBR,IAAI,CAACW,UAAU,CAACG,IAAI,CAACC,IAAI,IACvBN,MAAM,CAAC,OAAOM,IAAI,KAAK,QAAQ,GAAGA,IAAI,GAAI,CAAAA,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEC,GAAG,KAAI,EAAG,CAAC,KAAKP,MAAM,CAACJ,WAAW,CAACG,MAAM,CAC3F,CAAC;EAEnB,MAAMS,YAAY,GAAGjB,IAAI,CAACkB,SAAS,GAAG/B,MAAM,CAACa,IAAI,CAACkB,SAAS,CAAC,GAAG,IAAI;EACnE,MAAMC,SAAS,GAAGF,YAAY,IACbA,YAAY,CAACG,QAAQ,CAACjC,MAAM,CAAC,CAAC,CAAC,IAC/Ba,IAAI,CAACqB,MAAM,KAAK,MAAM;;EAEvC;EACA,MAAMC,uBAAuB,GAAGA,CAAA,KAAM;IACpC,IAAI,CAACL,YAAY,EAAE,OAAO,IAAI;IAE9B,MAAMM,KAAK,GAAGpC,MAAM,CAAC,CAAC;IACtB,IAAIa,IAAI,CAACqB,MAAM,KAAK,MAAM,EAAE;MAC1B,OAAO;QAAEG,IAAI,EAAE,YAAY;QAAE5B,KAAK,EAAE;MAAQ,CAAC;IAC/C;IAEA,MAAM6B,aAAa,GAAGR,YAAY,CAACS,IAAI,CAACH,KAAK,EAAE,MAAM,CAAC;IAEtD,IAAIE,aAAa,GAAG,CAAC,EAAE;MACrB,OAAO;QACLD,IAAI,EAAE,gBAAgBG,IAAI,CAACC,GAAG,CAACH,aAAa,CAAC,OAAOE,IAAI,CAACC,GAAG,CAACH,aAAa,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,EAAE;QAC9F7B,KAAK,EAAE;MACT,CAAC;IACH,CAAC,MAAM,IAAI6B,aAAa,KAAK,CAAC,EAAE;MAC9B,OAAO;QAAED,IAAI,EAAE,WAAW;QAAE5B,KAAK,EAAE;MAAS,CAAC;IAC/C,CAAC,MAAM,IAAI6B,aAAa,IAAI,CAAC,EAAE;MAC7B,OAAO;QACLD,IAAI,EAAE,YAAYC,aAAa,OAAOA,aAAa,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,EAAE;QACtE7B,KAAK,EAAE;MACT,CAAC;IACH,CAAC,MAAM;MACL,OAAO;QACL4B,IAAI,EAAE,YAAYC,aAAa,OAAO;QACtC7B,KAAK,EAAE;MACT,CAAC;IACH;EACF,CAAC;EAED,MAAMiC,cAAc,GAAGP,uBAAuB,CAAC,CAAC;EAEhD,MAAMQ,kBAAkB,GAAG,MAAOC,SAAS,IAAK;IAC9C,IAAI;MACF,IAAI,CAAC/B,IAAI,CAACgB,GAAG,EAAE;QACbrC,OAAO,CAACqD,KAAK,CAAC,uBAAuB,CAAC;QACtC;MACF;MAEA,MAAM5C,WAAW,CAAC6C,gBAAgB,CAACjC,IAAI,CAACgB,GAAG,EAAEe,SAAS,CAAC;MACvDpD,OAAO,CAACuD,OAAO,CAAC,8CAA8C,CAAC;MAC/D,IAAIhC,aAAa,IAAI,OAAOA,aAAa,KAAK,UAAU,EAAE;QACxDA,aAAa,CAAC,CAAC;MACjB;IACF,CAAC,CAAC,OAAO8B,KAAK,EAAE;MACdG,OAAO,CAACH,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnDrD,OAAO,CAACqD,KAAK,CAAC,2CAA2C,CAAC;IAC5D;EACF,CAAC;EAED,MAAMI,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI;MACF,IAAI,CAACpC,IAAI,CAACgB,GAAG,EAAE;QACbrC,OAAO,CAACqD,KAAK,CAAC,uBAAuB,CAAC;QACtC;MACF;MAEA,MAAM5C,WAAW,CAACiD,UAAU,CAACrC,IAAI,CAACgB,GAAG,CAAC;MACtCrC,OAAO,CAACuD,OAAO,CAAC,+BAA+B,CAAC;MAChD,IAAIhC,aAAa,IAAI,OAAOA,aAAa,KAAK,UAAU,EAAE;QACxDA,aAAa,CAAC,CAAC;MACjB;IACF,CAAC,CAAC,OAAO8B,KAAK,EAAE;MACdG,OAAO,CAACH,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CrD,OAAO,CAACqD,KAAK,CAAC,4BAA4B,CAAC;IAC7C;EACF,CAAC;;EAED;EACA,MAAMM,YAAY,GAAGA,CAAA,KAAM;IACzB,IAAI,CAACtC,IAAI,CAACuC,OAAO,IAAI,CAAC3B,KAAK,CAACC,OAAO,CAACZ,MAAM,CAAC,IAAIA,MAAM,CAACuC,MAAM,KAAK,CAAC,EAAE;MAClE,OAAO,IAAI;IACb;IAEA,MAAMC,KAAK,GAAGxC,MAAM,CAACyC,IAAI,CAACC,CAAC,IAAIA,CAAC,IAAIA,CAAC,CAAC3B,GAAG,KAAKhB,IAAI,CAACuC,OAAO,CAAC;IAC3D,OAAOE,KAAK,GAAGA,KAAK,CAACG,IAAI,GAAG,qBAAqB;EACnD,CAAC;EAED,MAAMC,SAAS,GAAGP,YAAY,CAAC,CAAC;EAEhC,oBACE/C,OAAA,CAAClB,IAAI;IACHyE,IAAI,EAAC,OAAO;IACZC,KAAK,EAAE;MACLC,YAAY,EAAE,EAAE;MAChBC,UAAU,EAAE,aAAa,EAAA7C,qBAAA,GAAAT,YAAY,CAACK,IAAI,CAACqB,MAAM,CAAC,cAAAjB,qBAAA,uBAAzBA,qBAAA,CAA2BR,KAAK,KAAI,MAAM,EAAE;MACrEsD,eAAe,EAAE;IACnB,CAAE;IACFC,OAAO,EAAE,cACP5D,OAAA,CAACb,MAAM;MACL0E,KAAK,EAAEpD,IAAI,CAACqB,MAAO;MACnB0B,KAAK,EAAE;QAAEM,KAAK,EAAE;MAAI,CAAE;MACtBC,QAAQ,EAAExB,kBAAmB;MAC7ByB,QAAQ,EAAE,CAAChD,OAAO,IAAI,CAACG,UAAW;MAAA8C,QAAA,gBAElCjE,OAAA,CAACG,MAAM;QAAC0D,KAAK,EAAC,aAAa;QAAAI,QAAA,EAAC;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAChDrE,OAAA,CAACG,MAAM;QAAC0D,KAAK,EAAC,MAAM;QAAAI,QAAA,EAAC;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACnCrE,OAAA,CAACG,MAAM;QAAC0D,KAAK,EAAC,QAAQ;QAAAI,QAAA,EAAC;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACvCrE,OAAA,CAACG,MAAM;QAAC0D,KAAK,EAAC,QAAQ;QAAAI,QAAA,EAAC;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClC,CAAC,eACTrE,OAAA,CAACd,MAAM;MACLoF,IAAI,eAAEtE,OAAA,CAACT,YAAY;QAAA2E,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAE;MACvBE,IAAI,EAAC,MAAM;MACXC,OAAO,EAAEA,CAAA,KAAM5D,aAAa,IAAI,OAAOA,aAAa,KAAK,UAAU,GAAGA,aAAa,CAACH,IAAI,CAAC,GAAG,IAAK;MACjGuD,QAAQ,EAAE,CAAChD,OAAO,IAAI,CAACG;IAAW;MAAA+C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnC,CAAC,eACFrE,OAAA,CAACd,MAAM;MACLoF,IAAI,eAAEtE,OAAA,CAACR,cAAc;QAAA0E,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAE;MACzBE,IAAI,EAAC,MAAM;MACXE,MAAM;MACND,OAAO,EAAE3B,gBAAiB;MAC1BmB,QAAQ,EAAE,CAAChD;IAAQ;MAAAkD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpB,CAAC,CACF;IAAAJ,QAAA,eAEFjE,OAAA;MAAKwD,KAAK,EAAE;QAAEC,YAAY,EAAE;MAAE,CAAE;MAAAQ,QAAA,gBAC9BjE,OAAA,CAACf,KAAK;QAACyF,KAAK,EAAC,QAAQ;QAAClB,KAAK,EAAE;UAAEC,YAAY,EAAE,CAAC;UAAEK,KAAK,EAAE,MAAM;UAAEa,cAAc,EAAE;QAAgB,CAAE;QAAAV,QAAA,gBAC/FjE,OAAA,CAACC,IAAI;UAAC2E,MAAM;UAAAX,QAAA,EAAExD,IAAI,CAACoE,SAAS,IAAI;QAAY;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,EACnDzC,SAAS,iBACR5B,OAAA,CAACX,OAAO;UAACyF,KAAK,EAAC,cAAW;UAAAb,QAAA,eACxBjE,OAAA,CAACP,yBAAyB;YAAC+D,KAAK,EAAE;cAAEnD,KAAK,EAAE;YAAM;UAAE;YAAA6D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/C,CACV;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC,eAERrE,OAAA,CAACE,SAAS;QAAC6E,QAAQ,EAAE;UAAEC,IAAI,EAAE;QAAE,CAAE;QAACxB,KAAK,EAAE;UAAEyB,QAAQ,EAAE,OAAO;UAAExB,YAAY,EAAE;QAAE,CAAE;QAAAQ,QAAA,EAC7ExD,IAAI,CAACyE,WAAW,IAAI;MAAiB;QAAAhB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7B,CAAC,eAEZrE,OAAA,CAACf,KAAK;QAACkG,SAAS,EAAC,UAAU;QAAC5B,IAAI,EAAE,CAAE;QAACC,KAAK,EAAE;UAAEM,KAAK,EAAE;QAAO,CAAE;QAAAG,QAAA,GAE3DvC,YAAY,iBACX1B,OAAA;UAAKwD,KAAK,EAAE;YACV4B,OAAO,EAAE,MAAM;YACfC,UAAU,EAAE,QAAQ;YACpB5B,YAAY,EAAE,CAAC;YACf6B,UAAU,EAAE1D,SAAS,GAAG,SAAS,GAAG,SAAS;YAC7C2D,OAAO,EAAE,SAAS;YAClBC,YAAY,EAAE;UAChB,CAAE;UAAAvB,QAAA,gBACAjE,OAAA,CAACL,mBAAmB;YAAC6D,KAAK,EAAE;cAC1BiC,WAAW,EAAE,CAAC;cACdpF,KAAK,EAAE,CAAAiC,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEjC,KAAK,KAAI;YAClC;UAAE;YAAA6D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACLrE,OAAA,CAACC,IAAI;YAACsE,IAAI,EAAE3C,SAAS,GAAG,QAAQ,GAAG,WAAY;YAAC4B,KAAK,EAAE;cAAEyB,QAAQ,EAAE;YAAQ,CAAE;YAAAhB,QAAA,EAC1E,CAAA3B,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEL,IAAI,KAAIP,YAAY,CAACgE,MAAM,CAAC,YAAY;UAAC;YAAAxB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CACN,EAEA5D,IAAI,CAACkF,QAAQ,iBACZ3F,OAAA,CAACjB,GAAG;UAACyE,KAAK,EAAE;YAAEoC,SAAS,EAAE;UAAE,CAAE;UAAA3B,QAAA,EAAExD,IAAI,CAACkF;QAAQ;UAAAzB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CACnD,EAEAf,SAAS,iBACRtD,OAAA;UAAKwD,KAAK,EAAE;YAAEoC,SAAS,EAAE;UAAE,CAAE;UAAA3B,QAAA,eAC3BjE,OAAA,CAACjB,GAAG;YAACuF,IAAI,eAAEtE,OAAA,CAACN,YAAY;cAAAwE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAE;YAAChE,KAAK,EAAC,MAAM;YAAA4D,QAAA,EAAEX;UAAS;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxD,CACN,EAEA5D,IAAI,CAACW,UAAU,IAAIC,KAAK,CAACC,OAAO,CAACb,IAAI,CAACW,UAAU,CAAC,IAAIX,IAAI,CAACW,UAAU,CAAC6B,MAAM,GAAG,CAAC,iBAC9EjD,OAAA;UAAKwD,KAAK,EAAE;YAAEoC,SAAS,EAAE;UAAE,CAAE;UAAA3B,QAAA,gBAC3BjE,OAAA,CAACC,IAAI;YAACsE,IAAI,EAAC,WAAW;YAACf,KAAK,EAAE;cAAEyB,QAAQ,EAAE,OAAO;cAAEG,OAAO,EAAE;YAAQ,CAAE;YAAAnB,QAAA,EAAC;UAEvE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACPrE,OAAA,CAACV,MAAM,CAACuG,KAAK;YAACC,QAAQ,EAAE,CAAE;YAACvC,IAAI,EAAC,OAAO;YAACC,KAAK,EAAE;cAAEoC,SAAS,EAAE;YAAE,CAAE;YAAA3B,QAAA,EAC7DxD,IAAI,CAACW,UAAU,CAAC2E,GAAG,CAAC,CAACvE,IAAI,EAAEwE,KAAK,KAAK;cAAA,IAAAC,cAAA;cACpC,IAAI,CAACzE,IAAI,EAAE,OAAO,IAAI,CAAC,CAAC;;cAExB,MAAM0E,QAAQ,GAAG,OAAO1E,IAAI,KAAK,QAAQ,GACrCA,IAAI,GACJA,IAAI,CAAC0E,QAAQ,IAAI1E,IAAI,CAAC2E,KAAK,IAAI,SAAS;cAE5C,oBACEnG,OAAA,CAACX,OAAO;gBAACyF,KAAK,EAAEoB,QAAS;gBAAAjC,QAAA,eACvBjE,OAAA,CAACV,MAAM;kBAACiE,IAAI,EAAC,OAAO;kBAAAU,QAAA,EACjB,OAAOzC,IAAI,KAAK,QAAQ,GACrB,CAACA,IAAI,CAAC4E,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,EAAEC,WAAW,CAAC,CAAC,GACrC,CAAC,EAAAJ,cAAA,GAAAzE,IAAI,CAAC0E,QAAQ,cAAAD,cAAA,uBAAbA,cAAA,CAAeG,MAAM,CAAC,CAAC,CAAC,KAAI,GAAG,EAAEC,WAAW,CAAC;gBAAC;kBAAAnC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC7C;cAAC,GALoB2B,KAAK;gBAAA9B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAM3B,CAAC;YAEd,CAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACU,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEX,CAAC;AAACiC,EAAA,GAtNI9F,QAAQ;AAwNd,eAAeA,QAAQ;AAAC,IAAA8F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}