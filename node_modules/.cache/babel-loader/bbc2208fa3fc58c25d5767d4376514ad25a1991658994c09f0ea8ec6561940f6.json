{"ast":null,"code":"var _jsxFileName = \"C:\\\\Practicas\\\\taskmanage\\\\frontend\\\\src\\\\components\\\\UserList\\\\UserList.jsx\";\n// src/components/UserList/UserList.jsx\nimport React from \"react\";\nimport { Table, Button, Tag, Popconfirm, Select } from \"antd\";\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nconst UserList = ({\n  users,\n  loading,\n  onEditUser,\n  onDeleteUser,\n  onChangeRole,\n  currentUserId\n}) => {\n  const columns = [{\n    title: 'Usuario',\n    dataIndex: 'username',\n    key: 'username',\n    sorter: (a, b) => a.username.localeCompare(b.username)\n  }, {\n    title: 'Email',\n    dataIndex: 'email',\n    key: 'email'\n  }, {\n    title: 'Rol',\n    dataIndex: 'role',\n    key: 'role',\n    render: (role, record) => {\n      // Prevent changing own role\n      const isCurrentUser = record._id === currentUserId;\n      return isCurrentUser ? /*#__PURE__*/_jsxDEV(Tag, {\n        color: role === 'admin' ? 'red' : 'blue',\n        children: role\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Select, {\n        defaultValue: role || 'user',\n        style: {\n          width: 120\n        },\n        onChange: value => onChangeRole(record._id, value),\n        disabled: loading,\n        children: [/*#__PURE__*/_jsxDEV(Option, {\n          value: \"user\",\n          children: \"user\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Option, {\n          value: \"admin\",\n          children: \"admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this);\n    }\n  }, {\n    title: 'Acciones',\n    key: 'actions',\n    render: (_, record) => {\n      // Prevent actions on own account\n      const isCurrentUser = record._id === currentUserId;\n      return !isCurrentUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          icon: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this),\n          onClick: () => onEditUser(record),\n          size: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n          title: \"\\xBFEst\\xE1s seguro de eliminar este usuario?\",\n          onConfirm: () => onDeleteUser(record._id),\n          okText: \"S\\xED\",\n          cancelText: \"No\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 23\n            }, this),\n            danger: true,\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"No disponible\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this);\n    }\n  }];\n  return /*#__PURE__*/_jsxDEV(Table, {\n    dataSource: users,\n    columns: columns,\n    rowKey: \"_id\",\n    loading: loading,\n    pagination: {\n      pageSize: 10\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n_c = UserList;\nexport default UserList;\nvar _c;\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"names":["React","Table","Button","Tag","Popconfirm","Select","EditOutlined","DeleteOutlined","jsxDEV","_jsxDEV","Option","UserList","users","loading","onEditUser","onDeleteUser","onChangeRole","currentUserId","columns","title","dataIndex","key","sorter","a","b","username","localeCompare","render","role","record","isCurrentUser","_id","color","children","fileName","_jsxFileName","lineNumber","columnNumber","defaultValue","style","width","onChange","value","disabled","_","display","gap","icon","onClick","size","onConfirm","okText","cancelText","danger","dataSource","rowKey","pagination","pageSize","_c","$RefreshReg$"],"sources":["C:/Practicas/taskmanage/frontend/src/components/UserList/UserList.jsx"],"sourcesContent":["// src/components/UserList/UserList.jsx\r\nimport React from \"react\";\r\nimport { Table, Button, Tag, Popconfirm, Select } from \"antd\";\r\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst UserList = ({ \r\n  users, \r\n  loading, \r\n  onEditUser, \r\n  onDeleteUser, \r\n  onChangeRole, \r\n  currentUserId \r\n}) => {\r\n  const columns = [\r\n    {\r\n      title: 'Usuario',\r\n      dataIndex: 'username',\r\n      key: 'username',\r\n      sorter: (a, b) => a.username.localeCompare(b.username),\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'email',\r\n      key: 'email',\r\n    },\r\n    {\r\n      title: 'Rol',\r\n      dataIndex: 'role',\r\n      key: 'role',\r\n      render: (role, record) => {\r\n        // Prevent changing own role\r\n        const isCurrentUser = record._id === currentUserId;\r\n        return isCurrentUser ? (\r\n          <Tag color={role === 'admin' ? 'red' : 'blue'}>{role}</Tag>\r\n        ) : (\r\n          <Select\r\n            defaultValue={role || 'user'}\r\n            style={{ width: 120 }}\r\n            onChange={(value) => onChangeRole(record._id, value)}\r\n            disabled={loading}\r\n          >\r\n            <Option value=\"user\">user</Option>\r\n            <Option value=\"admin\">admin</Option>\r\n          </Select>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      key: 'actions',\r\n      render: (_, record) => {\r\n        // Prevent actions on own account\r\n        const isCurrentUser = record._id === currentUserId;\r\n        return !isCurrentUser ? (\r\n          <div style={{ display: 'flex', gap: '8px' }}>\r\n            <Button \r\n              icon={<EditOutlined />} \r\n              onClick={() => onEditUser(record)} \r\n              size=\"small\"\r\n            />\r\n            <Popconfirm\r\n              title=\"¿Estás seguro de eliminar este usuario?\"\r\n              onConfirm={() => onDeleteUser(record._id)}\r\n              okText=\"Sí\"\r\n              cancelText=\"No\"\r\n            >\r\n              <Button \r\n                icon={<DeleteOutlined />} \r\n                danger \r\n                size=\"small\"\r\n              />\r\n            </Popconfirm>\r\n          </div>\r\n        ) : (\r\n          <span>No disponible</span>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Table\r\n      dataSource={users}\r\n      columns={columns}\r\n      rowKey=\"_id\"\r\n      loading={loading}\r\n      pagination={{ pageSize: 10 }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default UserList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}